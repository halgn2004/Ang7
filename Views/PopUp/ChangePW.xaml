<?xml version="1.0" encoding="utf-8" ?>
<pages:PopupPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" CloseWhenBackgroundIsClicked="True" xmlns:customControls="clr-namespace:Ang7.CustomControls" xmlns:d="http://schemas.microsoft.com/dotnet/2021/maui/design" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:pages="clr-namespace:RGPopup.Maui.Pages;assembly=RGPopup.Maui" xmlns:animations="clr-namespace:Ang7.Helpers" xmlns:ffimage="clr-namespace:FFImageLoading.Maui;assembly=FFImageLoading.Compat.Maui" mc:Ignorable="d" x:Class="Ang7.Views.PopUp.ChangePW">
    <pages:PopupPage.Animation>
        <animations:UserAnimation />
    </pages:PopupPage.Animation>


    <Border StrokeShape="RoundRectangle 25,25,25,25" VerticalOptions="Center" HorizontalOptions="FillAndExpand" Padding="24,10,24,24" Margin="12" BackgroundColor="White" FlowDirection="RightToLeft">
        <Grid HorizontalOptions="FillAndExpand" RowSpacing="{OnIdiom Phone=5,Tablet=20}" ColumnSpacing="20" RowDefinitions="auto,auto,auto,auto,auto">
            <StackLayout Grid.Row ="0" Orientation="Horizontal" HorizontalOptions="FillAndExpand" Margin="{OnIdiom Phone='0,10',Tablet='0,20'}">
                <Label Text="تغيير كلمة المرور" TextColor="Black" FontSize="20" FontFamily="Poppins-SemiBold" HorizontalTextAlignment="Start" HorizontalOptions="Start" VerticalOptions="Center" Padding="0,0,0,10" />
                <ffimage:CachedImage Source="popupselect_close.png" BackgroundColor="Transparent" FlexLayout.AlignSelf="Center" FlexLayout.Grow="1" Aspect="AspectFit" HorizontalOptions="EndAndExpand" WidthRequest="45" HeightRequest="45" Margin="0,-5,0,0">
                    <ffimage:CachedImage.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnClose_Clicked" />
                    </ffimage:CachedImage.GestureRecognizers>
                </ffimage:CachedImage>
            </StackLayout>
            <customControls:OutlinedEntryControl Grid.Row ="1" HorizontalOptions="FillAndExpand" Text="{ Binding OldPassword }" IsPassword="True" IsShowPasswordButton="True" Grid.ColumnSpan="2" Placeholder="كلمة المرور الحالية" Margin="0,0,0,0" ValidationMessage=" * كلمة المرور غير صحيحة." ValidationType="Password" Padding="0,10" />
            <customControls:OutlinedEntryControl Grid.Row ="2" HorizontalOptions="FillAndExpand" Text="{ Binding NewPassword }" IsPassword="True" IsShowPasswordButton="True" Grid.ColumnSpan="2" Placeholder="كلمة المرور الجديدة" Margin="0,0,0,0" ValidationMessage=" * كلمة المرور غير صحيحة." ValidationType="Password" Padding="0,10" />
            <customControls:OutlinedEntryControl Grid.Row ="3" HorizontalOptions="FillAndExpand" Text="{ Binding NewPassword2 }" IsPassword="True" IsShowPasswordButton="True" Grid.ColumnSpan="2" Placeholder="تأكيد كلمة المرور الجديدة" Margin="0,0,0,0" ValidationMessage="* غير متطابقة مع كلمة المرور." ValidationType="PasswordConfirmation" MainPassword="{ Binding NewPassword }" Padding="0,10" />
            <Button Grid.Row ="4" HorizontalOptions="FillAndExpand" Text="حفظ" Command="{ Binding ChangePWCommand }" Style="{StaticResource LKBut02}" HeightRequest="{OnIdiom Phone=60,Tablet=100}" Margin="{OnIdiom Phone='20,0',Tablet='50,0'}"/>
        </Grid>

    </Border>

</pages:PopupPage>