<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui" BackgroundColor="White" xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" xmlns:d="http://schemas.microsoft.com/dotnet/2021/maui/design" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:handlers="clr-namespace:Ang7.Handlers" xmlns:local="clr-namespace:Ang7.Views" mc:Ignorable="d" xmlns:helpers="clr-namespace:Ang7.Helpers" x:Class="Ang7.Views.SigninPage" xmlns:ios="clr-namespace:Microsoft.Maui.Controls.PlatformConfiguration.iOSSpecific;assembly=Microsoft.Maui.Controls" xmlns:ffimage="clr-namespace:FFImageLoading.Maui;assembly=FFImageLoading.Compat.Maui" NavigationPage.HasNavigationBar="False" ios:Page.UseSafeArea="True" xmlns:ct="clr-namespace:Ang7.CustomControls">
    <!--<ContentPage.Behaviors> ct:CustomStatusBarBehavior.StatusBarColor="#610c86ac" ct:CustomStatusBarBehavior.StatusBarStyle="DarkContent"
        <toolkit:StatusBarBehavior StatusBarColor="#610c86ac" StatusBarStyle="DarkContent" />
    </ContentPage.Behaviors>-->

    <Grid VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand" BackgroundColor="#610c86ac" Margin="0,0,0,0" RowDefinitions="5*,6*">
        <!--<Grid.RowDefinitions>
                <RowDefinition Height="{OnPlatform Android='4*',iOS='300'}" />
                <RowDefinition Height="{OnPlatform Android='6*',iOS='400'}" />
            </Grid.RowDefinitions>-->

        <!-- 1. Profile picture
        <AbsoluteLayout Grid.Row="0" BackgroundColor="Transparent" Padding="{OnPlatform Android='0,20,0,0',iOS='0,10,0,0'}" FlowDirection="RightToLeft" HorizontalOptions="FillAndExpand">
            <ffimage:CachedImage Source="signinpagelogo.png" VerticalOptions="Start" HorizontalOptions="StartAndExpand" Margin="0,12,0,0" HeightRequest="300"/>
            <ffimage:CachedImage HeightRequest="50" WidthRequest="50" Margin="20,0,0,10" Source="back.png" BackgroundColor="Transparent" FlexLayout.AlignSelf="Center" FlexLayout.Grow="1" Aspect="AspectFit" HorizontalOptions="EndAndExpand">
                <ffimage:CachedImage.GestureRecognizers>
                    <TapGestureRecognizer Tapped="Onback_Clicked" />
                </ffimage:CachedImage.GestureRecognizers>
            </ffimage:CachedImage>
        </AbsoluteLayout>-->
        <Grid Grid.Row="0" BackgroundColor="Transparent" Padding="{OnPlatform Android='0,20,0,0',iOS='0,10,0,0'}" FlowDirection="RightToLeft" HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand">
            <ffimage:CachedImage Source="signinpagelogo.png" VerticalOptions="Start" HorizontalOptions="StartAndExpand" Margin="0,0,100,-20" Aspect="AspectFit"/>
            <ffimage:CachedImage HeightRequest="50" WidthRequest="50" Margin="20,0,0,10" Source="back.png" BackgroundColor="Transparent" VerticalOptions="Start" Aspect="AspectFit" HorizontalOptions="StartAndExpand">
                <ffimage:CachedImage.GestureRecognizers>
                    <TapGestureRecognizer Tapped="Onback_Clicked" />
                </ffimage:CachedImage.GestureRecognizers>
            </ffimage:CachedImage>
        </Grid>
        

        <!-- 2. Contact informaqtion frame-->
        <StackLayout Grid.Row="1" Margin="{OnPlatform Android='0',iOS='0,0,0,0'}" BackgroundColor="White" VerticalOptions="FillAndExpand">
            <Border Stroke="White" StrokeThickness="0" StrokeShape="RoundRectangle 40,40,0,0" BackgroundColor="White" VerticalOptions="FillAndExpand" TranslationY="{OnPlatform Android='-33', iOS='-33'}">

                <StackLayout Orientation="Vertical" BackgroundColor="Transparent" HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" Spacing="5">
                    <Grid RowDefinitions="Auto,*">
                        <StackLayout Grid.Row="0" Orientation="Vertical"  HorizontalOptions="FillAndExpand" Spacing="0" Padding="20,50,20,0" FlowDirection="RightToLeft" VerticalOptions="Start" IsVisible="{Binding Activated, Converter={StaticResource inverter}}">
                            <!--<ct:OutlinedEntryControl Text="{Binding Email}" Keyboard="Email" Placeholder="البريد الإلكتروني" WidthRequest="350" ValidationMessage="* بريد إلكتروني غير صحيح." IsValidationVisible="{Binding EmailValidationMsg}" ValidationType="Email" />
                        -->
                            <ct:OutlinedEntryControl HorizontalOptions="FillAndExpand" Text="{Binding Email}" Keyboard="Email" IsPassword="False" IsShowPasswordButton="False" Placeholder="البريد الإلكتروني" ValidationMessage="* بريد إلكتروني غير صحيح." IsValidationVisible="{Binding EmailValidationMsg}" ValidationType="Email" Padding="0,10" />
                            <ct:OutlinedEntryControl HorizontalOptions="FillAndExpand" Text="{Binding Password}" IsPassword="True" IsShowPasswordButton="True" Placeholder="كلمة المرور" ValidationMessage="* كلمة المرور غير صحيحة." IsValidationVisible="{Binding PWValidationMsg}" ValidationType="Password" Padding="0,10" />
                            <ct:CheckBoxLabeled Text="تذكرني" IsChecked="{Binding CheckBoxStatus, Mode=TwoWay}" />
                            <Label Text="نسيت كلمة المرور؟" Style="{StaticResource LinkLabel}" HorizontalOptions="EndAndExpand">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer NumberOfTapsRequired="1" Command="{Binding ForgotPasswordCommand}" />
                                </Label.GestureRecognizers>
                            </Label>
                        </StackLayout>

                        <StackLayout Grid.Row="0" Orientation="Vertical" WidthRequest="{OnIdiom Phone=300,Tablet=600}" HorizontalOptions="Center" Spacing="5" Padding="{OnPlatform Android='5,20,5,0', iOS='5,0,5,0'}" IsVisible="{Binding Activated}" VerticalOptions="Start" FlowDirection="RightToLeft">
                            <Label Text="التفعيل" HorizontalOptions="Center" TextColor="#181e2d" FontSize="{OnIdiom Phone=26,Tablet=40}" FontFamily="Poppins-Medium" HorizontalTextAlignment="Center" Margin="{OnPlatform iOS='0,10,0,0'}" />
                            <Label Text="الحساب الخاص بك غير مفعل بعد" WidthRequest="{OnIdiom Phone=300,Tablet=600}" TextColor="#888888" FontSize="{OnIdiom Phone=14,Tablet=26}" FontFamily="Poppins-Regular" HorizontalTextAlignment="Start" />
                            <Label Text="لقد ارسلنا بريد إلكتروني لك يحتوي علي رمز التفعيل" WidthRequest="{OnIdiom Phone=300,Tablet=600}" TextColor="#888888" FontSize="{OnIdiom Phone=14,Tablet=26}" FontFamily="Poppins-Regular" HorizontalTextAlignment="Start" Padding="0,0,0,15" />
                            <ct:CustomCodeEntry Code="{Binding VC, Mode=TwoWay}" />
                            <StackLayout HorizontalOptions="Center" Orientation="Horizontal" Padding="0,10,0,0">
                                <Label Text=" لم تحصل علي رمز التفعيل؟" TextColor="#888888" FontFamily="Poppins-Medium" FontSize="{OnIdiom Phone=12,Tablet=24}" Padding="{OnIdiom Phone='5,0',Tablet='10,0'}"/>
                                <Label Text="أرسال مرة أخري" TextColor="#0ab0b0" TextDecorations="Underline" FontFamily="Poppins-Medium" FontSize="{OnIdiom Phone=12,Tablet=24}">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer NumberOfTapsRequired="1" Command="{Binding ResendCommand}" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </StackLayout>
                        </StackLayout>

                        <Button Grid.Row="1" Text="{Binding LoginButText}" Command="{Binding LoginCommand}" IsEnabled="{Binding IsLoginButEnable}" Style="{StaticResource LKBut01}" HeightRequest="{OnPlatform Android=70, iOS=70}" VerticalOptions="EndAndExpand" Margin="{OnPlatform iOS='20,50,20,0', Android='20,70,20,0'}"/>

                    </Grid>

                </StackLayout>
            </Border>
        </StackLayout>

    </Grid>
</ContentPage>